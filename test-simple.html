<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®€å•æœç´¢æµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-area { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
    </style>
</head>
<body>
    <h1>ğŸ” ç®€å•æœç´¢åŠŸèƒ½æµ‹è¯•</h1>
    
    <div class="test-area">
        <h2>æµ‹è¯•æœç´¢æŒ‰é’®</h2>
        <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®æµ‹è¯•å±•å¼€/æ”¶èµ·åŠŸèƒ½ï¼š</p>
        <div id="search-container"></div>
    </div>

    <script>
        // æ¨¡æ‹Ÿæœç´¢ç»“æœ
        const mockResults = [
            { title: "æµ‹è¯•æ–‡ç« 1", url: "https://example.com/1", snippet: "è¿™æ˜¯æµ‹è¯•æ–‡ç« 1çš„æ‘˜è¦å†…å®¹..." },
            { title: "æµ‹è¯•æ–‡ç« 2", url: "https://example.com/2", snippet: "è¿™æ˜¯æµ‹è¯•æ–‡ç« 2çš„æ‘˜è¦å†…å®¹..." },
            { title: "æµ‹è¯•æ–‡ç« 3", url: "https://example.com/3", snippet: "è¿™æ˜¯æµ‹è¯•æ–‡ç« 3çš„æ‘˜è¦å†…å®¹..." }
        ];

        // ç”Ÿæˆæœç´¢HTML
        function createSearchHTML() {
            const uniqueId = 'test-search-' + Date.now();
            return `
                <div class="search-sources-container">
                    <button class="search-sources-toggle" onclick="toggleSearchSources('${uniqueId}')">
                        <span>ğŸ”</span>
                        <span>æœç´¢äº† 3 ç¯‡ç½‘é¡µ</span>
                        <span class="chevron">â–¼</span>
                    </button>
                    <div class="search-sources-panel" id="${uniqueId}" style="display: none;">
                        <div class="search-sources-header">å‚è€ƒèµ„æ–™ (3)</div>
                        <div class="search-sources-list">
                            ${mockResults.map((result, i) => `
                                <div class="search-source-item">
                                    <div class="source-number">${i + 1}</div>
                                    <div class="source-content">
                                        <div class="source-title">${result.title}</div>
                                        <div class="source-snippet">${result.snippet}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
        }

        // åˆ‡æ¢å‡½æ•°
        window.toggleSearchSources = function(id) {
            console.log('ç‚¹å‡»æŒ‰é’®ï¼ŒID:', id);
            const panel = document.getElementById(id);
            if (!panel) {
                console.error('æ‰¾ä¸åˆ°é¢æ¿:', id);
                return;
            }
            
            const isHidden = panel.style.display === 'none' || panel.style.display === '';
            panel.style.display = isHidden ? 'block' : 'none';
            console.log(isHidden ? 'å±•å¼€' : 'æ”¶èµ·');
        }

        // åˆå§‹åŒ–
        document.getElementById('search-container').innerHTML = createSearchHTML();
    </script>

    <!-- å¼•å…¥æ ·å¼ -->
    <link rel="stylesheet" href="src/css/styles.css">
</body>
</html>
